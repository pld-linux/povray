diff -urN povray-3.6.1.org/acinclude.m4 povray-3.6.1/acinclude.m4
--- povray-3.6.1.org/acinclude.m4	2004-08-03 01:16:14.000000000 +0200
+++ povray-3.6.1/acinclude.m4	2007-01-27 22:37:25.000000000 +0100
@@ -95,12 +95,12 @@
 
   # check for -dumpversion
   AC_TRY_COMMAND([$CXX -dumpversion < /dev/null 2> /dev/null > conftest.out])
-  pov_prog_cxx_version=`cat conftest.out | $ac_cv_prog_egrep '[[0-9]]'`
+  pov_prog_cxx_version=$(cat conftest.out | egrep '[[0-9]]')
 
   # check for -v
   if test -z "$pov_prog_cxx_version"; then
     AC_TRY_COMMAND([$CXX -v < /dev/null 2>&1 | tr A-Z a-z > conftest.out])
-    pov_prog_cxx_version=`cat conftest.out | $ac_cv_prog_egrep "version" | sed 's,\(.*version[[[:space:]]]*\)\(.*\),\2,'`
+    pov_prog_cxx_version=$(cat conftest.out | egrep "version" | sed 's,\(.*version[[[:space:]]]*\)\(.*\),\2,')
   fi
 
   # final compiler version string
@@ -131,7 +131,7 @@
   AC_REQUIRE([AC_PROG_EGREP])
 
   # Create a unique cache-id name (multiple flags are handled).
-  pov_prog_cxx_flags_var=pov_cv_prog_cxx_flags`echo $1 | sed 's,[[^a-zA-Z0-9]],_,g'`
+  pov_prog_cxx_flags_var=pov_cv_prog_cxx_flags$(echo $1 | sed 's,[[^a-zA-Z0-9]],_,g')
 
   # Create the extended regular expression to handle multiple flags.
   # For instance, "-first-flag -second-flag -X" gives the regexp:
@@ -140,7 +140,7 @@
   # FreeBSD and Darwin seem to have a problem with the \+ sed construct
   # (but apparently not with the \{x,y\} one).  For safety, I prefer to
   # use  [[:space:]][[:space:]]*  for  [[:space:]]\+
-  pov_prog_cxx_flags_regexp=`echo $1 | sed 's,\(-.\)\([[^[:space:]]]*\),\\\\\1|\2,g; s,[[[:space:]]][[[:space:]]]*,|,g; s,\(.\)||,\1|\1|,g; s,\(.\)|$,\1|\1,'`
+  pov_prog_cxx_flags_regexp=$(echo $1 | sed 's,\(-.\)\([[^[:space:]]]*\),\\\\\1|\2,g; s,[[[:space:]]][[[:space:]]]*,|,g; s,\(.\)||,\1|\1|,g; s,\(.\)|$,\1|\1,')
  
   # Cannot use AC_CACHE_CHECK due to the nature of the cache-id variable.
   AC_MSG_CHECKING([whether $CXX accepts $1])
@@ -155,10 +155,10 @@
       AC_TRY_COMMAND([$CXX -c conftest.$ac_ext > /dev/null 2> conftest.err0])
       AC_TRY_COMMAND([$CXX -c $1 conftest.$ac_ext > /dev/null 2> conftest.err])
       AC_TRY_COMMAND([cat conftest.err >&5])
-      AC_TRY_COMMAND([$ac_cv_prog_egrep \"$pov_prog_cxx_flags_regexp\" conftest.err 2>&1 > /dev/null])
+      AC_TRY_COMMAND([egrep \"$pov_prog_cxx_flags_regexp\" conftest.err 2>&1 > /dev/null])
       # the command above seems to not always return the correct status, so
       # for safety I rerun it here; I keep the other one for logging purpose.
-      pov_prog_cxx_flags_err=`$ac_cv_prog_egrep "$pov_prog_cxx_flags_regexp" conftest.err`
+      pov_prog_cxx_flags_err=$(egrep "$pov_prog_cxx_flags_regexp" conftest.err)
       AC_TRY_COMMAND([diff conftest.err0 conftest.err >&5])
       if test -z "$pov_prog_cxx_flags_err" \
       || test -z "`diff conftest.err0 conftest.err`"; then
@@ -192,8 +192,8 @@
 [
   AC_REQUIRE([AC_PROG_EGREP])
 
-  pov_prog_cc_flags_var=pov_cv_prog_cc_flags`echo $1 | sed 's,[[^a-zA-Z0-9]],_,g'`
-  pov_prog_cc_flags_regexp=`echo $1 | sed 's,\(-.\)\([[^[:space:]]]*\),\\\\\1|\2,g; s,[[[:space:]]][[[:space:]]]*,|,g; s,\(.\)||,\1|\1|,g; s,\(.\)|$,\1|\1,'`
+  pov_prog_cc_flags_var=pov_cv_prog_cc_flags$(echo $1 | sed 's,[[^a-zA-Z0-9]],_,g')
+  pov_prog_cc_flags_regexp=$(echo $1 | sed 's,\(-.\)\([[^[:space:]]]*\),\\\\\1|\2,g; s,[[[:space:]]][[[:space:]]]*,|,g; s,\(.\)||,\1|\1|,g; s,\(.\)|$,\1|\1,')
 
   AC_MSG_CHECKING([whether $CC accepts $1])
   AC_CACHE_VAL(
@@ -204,8 +204,8 @@
       AC_TRY_COMMAND([$CC -c conftest.$ac_ext > /dev/null 2> conftest.err0])
       AC_TRY_COMMAND([$CC -c $1 conftest.$ac_ext > /dev/null 2> conftest.err])
       AC_TRY_COMMAND([cat conftest.err >&5])
-      AC_TRY_COMMAND([$ac_cv_prog_egrep \"$pov_prog_cc_flags_regexp\" conftest.err 2>&1 > /dev/null])
-      pov_prog_cc_flags_err=`$ac_cv_prog_egrep "$pov_prog_cc_flags_regexp" conftest.err`
+      AC_TRY_COMMAND([egrep \"$pov_prog_cc_flags_regexp\" conftest.err 2>&1 > /dev/null])
+      pov_prog_cc_flags_err=$(egrep "$pov_prog_cc_flags_regexp" conftest.err)
       AC_TRY_COMMAND([diff conftest.err0 conftest.err >&5])
       if test -z "$pov_prog_cc_flags_err" \
       || test -z "`diff conftest.err0 conftest.err`"; then
